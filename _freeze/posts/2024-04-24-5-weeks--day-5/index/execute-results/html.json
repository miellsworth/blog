{
  "hash": "6eb0f189357c444b5a6280543c1216f3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"5 Weeks - Day 5\"\ndescription: |\n  AI in RStudio\nauthor: Michael Ellsworth\ndate: 2024-04-24\n---\n\n\nI came across [this blog post](https://blogs.rstudio.com/ai/posts/2024-04-04-chat-with-llms-using-chattr/) yesterday while scrolling through #rstats Mastodon and it inspired me to give `chattr` a try in RStudio. Based on the post, it looks like `chattr` simply allows for interaction with LLMs via a Shiny app in RStudio (or outside RStudio in a terminal).\n\nHere is the install script:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install from GitHub\nlibrary(remotes)\nremotes::install_github(\"mlverse/chattr\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nDownloading GitHub repo mlverse/chattr@HEAD\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nfs (1.6.3 -> 1.6.4) [CRAN]\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nInstalling 1 packages: fs\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\npackage 'fs' successfully unpacked and MD5 sums checked\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: cannot remove prior installation of package 'fs'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in file.copy(savedcopy, lib, recursive = TRUE): problem copying\nC:\\Users\\miellsworth\\AppData\\Local\\Programs\\R\\R-4.3.3\\library\\00LOCK\\fs\\libs\\x64\\fs.dll\nto\nC:\\Users\\miellsworth\\AppData\\Local\\Programs\\R\\R-4.3.3\\library\\fs\\libs\\x64\\fs.dll:\nPermission denied\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: restored 'fs'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nThe downloaded binary packages are in\n\tC:\\Users\\miellsworth\\AppData\\Local\\Temp\\RtmpigYlbx\\downloaded_packages\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRunning `R CMD build`...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n* checking for file 'C:\\Users\\miellsworth\\AppData\\Local\\Temp\\RtmpigYlbx\\remotes151c14614eb6\\mlverse-chattr-4e4d170/DESCRIPTION' ... OK\n* preparing 'chattr':\n* checking DESCRIPTION meta-information ... OK\n* checking for LF line-endings in source and make files and shell scripts\n* checking for empty or unneeded directories\nOmitted 'LazyData' from DESCRIPTION\n* building 'chattr_0.1.0.tar.gz'\n```\n\n\n:::\n:::\n\n\nIn the \"Getting started\" section of the post, running the app is done via the `chattr_app()` function but I'm getting a \"No model setup found\" error. Running `?chattr_use` in the R Console pulls up some details to resolve this error. Looks like the easiest way to setup a model is to grab an OpenAI Personal Access Token (PAT). My preference would be to run a local LLM but maybe I can look into setting that up later.\n\nAfter creating a PAT on the OpenAI website, I created an .Renviron file in my project directory and saved the token there under `OPENAI_API_KEY`. It looks like that's all it took to set-up the model. I can now run `chattr_app()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(chattr)\nchattr::chattr_app()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n• Provider:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n• Path/URL:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n• Model:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n• Label:\n```\n\n\n:::\n\n::: {.cell-output-display}\n`<div style=\"width: 100% ; height: 400px ; text-align: center; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box;\" class=\"muted well\">Shiny applications not supported in static R Markdown documents</div>`{=html}\n:::\n:::\n\n\nThis seems to open the Shiny App but sending a prompt to OpenAI doesn't return any response. After an unfortunate amount of time looking through Google, running `chattr::chattr(\"hello\")` gives me an error message that might be a clue to resolving my problem: \n\n```\n{error}Type:insufficient_quota\nMessage: You exceeded your current quota, please check your plan and billing details.\n```\n\nBased on my usage details on the OpenAI website, I should have plenty of quota to work with. Other folks online have reported a similar issue and have noted that it goes away after a few days. Perhaps I'll check back on this later.\n\nThis unsuccessful AI exercise reminds me that I need to read Molly White's article [AI isn't useless. But is it worth it?](https://www.citationneeded.news/ai-isnt-useless/). Unfortunately, I'm not sure this foray into `chattr` was worth much today!\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}